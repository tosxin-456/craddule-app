{"version":3,"file":"static/js/635.58c05eb7.chunk.js","mappings":"gMAMe,SAASA,IACpB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,IAC7BC,GAAWC,EAAAA,EAAAA,MAoCjB,OACIC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACT,MAAOA,EAAOU,QAJfC,IAAMV,EAAS,IAIqBW,SAAU,OAEzDJ,EAAAA,EAAAA,KAAA,OAAKK,UAAU,2BAA0BN,UACrCC,EAAAA,EAAAA,KAACM,EAAAA,EAAW,CACRC,UAxCMC,UAClB,IACI,MAAMC,EAAG,GAAAC,OAAMC,EAAAA,aAAY,0BAErBC,QAAYC,MAAMJ,EAAK,CACzBK,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CAAEC,WAAYC,EAAmBD,eAGpDE,QAAaT,EAAIU,OAEvB,IAAKV,EAAIW,GACL,MAAM,IAAIC,MAAMH,EAAKI,SAAO,iBAAAf,OAAqBE,EAAIc,SAGzDC,aAAaC,QAAQ,eAAgBP,EAAKQ,OAASR,EAAKA,KAAKS,cAC7DrC,EAAS,IACTE,EAAS,QACb,CAAE,MAAOH,GACLuC,QAAQvC,MAAM,sBAAkBA,GAChCC,EAASD,EAAMiC,SAAW,kCAC9B,GAiBYO,QAdIC,KAChBF,QAAQG,IAAI,8BACZzC,EAAS,0DAA0D,EAavD0C,MAAM,UACNC,MAAM,cACNC,KAAK,cACLC,KAAK,cAKzB,C","sources":["GoogleSignIn.js"],"sourcesContent":["import { GoogleLogin } from '@react-oauth/google';\r\nimport { API_BASE_URL } from './config/apiConfig';\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ErrorToast from './component/errorComponent';\r\n\r\nexport default function SignInWithGoogle() {\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleSuccess = async (credentialResponse) => {\r\n        try {\r\n            const url = `${API_BASE_URL}/api/auth/google/login`;\r\n\r\n            const res = await fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ credential: credentialResponse.credential }),\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (!res.ok) {\r\n                throw new Error(data.message || `Server error: ${res.status}`);\r\n            }\r\n\r\n            localStorage.setItem('access_token', data.token || data.data.access_token);\r\n            setError('');\r\n            navigate('/home');\r\n        } catch (error) {\r\n            console.error('❌ Login error:', error);\r\n            setError(error.message || 'Login failed. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleError = () => {\r\n        console.log('❌ Google Login Failed');\r\n        setError('Google login was cancelled or failed. Please try again.');\r\n    };\r\n\r\n    const clearError = () => setError('');\r\n\r\n    return (\r\n        <>\r\n            <ErrorToast error={error} onClose={clearError} duration={6000} />\r\n\r\n            <div className=\"flex justify-center mt-6\">\r\n                <GoogleLogin\r\n                    onSuccess={handleSuccess}\r\n                    onError={handleError}\r\n                    theme=\"outline\"\r\n                    shape=\"rectangular\"\r\n                    text=\"signin_with\"\r\n                    size=\"large\"\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"names":["SignInWithGoogle","error","setError","useState","navigate","useNavigate","_jsxs","_Fragment","children","_jsx","ErrorToast","onClose","clearError","duration","className","GoogleLogin","onSuccess","async","url","concat","API_BASE_URL","res","fetch","method","headers","body","JSON","stringify","credential","credentialResponse","data","json","ok","Error","message","status","localStorage","setItem","token","access_token","console","onError","handleError","log","theme","shape","text","size"],"sourceRoot":""}