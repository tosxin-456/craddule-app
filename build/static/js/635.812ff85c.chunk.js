"use strict";(self.webpackChunkcraddule=self.webpackChunkcraddule||[]).push([[635],{6635:(e,a,o)=>{o.r(a),o.d(a,{default:()=>i});var t=o(5447),r=o(3533),n=o(5043),s=o(3216),c=o(7899),l=o(579);function i(){const[e,a]=(0,n.useState)(""),o=(0,s.Zp)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.A,{error:e,onClose:()=>a(""),duration:6e3}),(0,l.jsx)("div",{className:"flex justify-center mt-6",children:(0,l.jsx)(t.j,{onSuccess:async t=>{try{const e="".concat(r.API_BASE_URL,"/api/auth/google/login"),n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:t.credential})}),s=await n.json();if(!n.ok)throw new Error(s.message||"Server error: ".concat(n.status));localStorage.setItem("access_token",s.token||s.data.access_token),a(""),o("/home")}catch(e){console.error("\u274c Login error:",e),a(e.message||"Login failed. Please try again.")}},onError:()=>{console.log("\u274c Google Login Failed"),a("Google login was cancelled or failed. Please try again.")},theme:"outline",shape:"rectangular",text:"signin_with",size:"large"})})]})}}}]);
//# sourceMappingURL=635.812ff85c.chunk.js.map